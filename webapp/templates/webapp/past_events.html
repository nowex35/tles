{% extends 'webapp/base.html' %}
{% load static %}
{% block title %}過去のイベント | TLES{% endblock %}
{% block content %}
  <div>
    <h1 class="text-primary">Past Events</h1>
    <div class="event_container">
      {% for event in page_obj.object_list %}
      <div class="event">
        <a href="{% url 'webapp:event_detail' event.pk %}" class="no-underline">
          <img src="{{ event.event_image.url }}" alt="Event Image" class="event-image">
          <div class="event-details">
            <h4>{{ event.name }}</h4>
            <p>{{ event.team_name }} vs {{ event.opponent_team }}</p>
            <p>Date: {{ event.game_date }}</p>
            <p>Time: {{ event.opening_time }}</p>
            <p>Location: {{ event.event_place }}</p>
            <p>spectators: {{ event.number_of_spectators }}人</p>
          </div>
        </a>
      </div>
      {% empty %}
      <p>No events are available.</p>
      {% endfor %}
    </div>
    
    {% if page_obj.has_other_pages %}
    <nav aria-label="Page navigation">
      <ul class="pagination justify-content-center">
        {% if page_obj.has_previous %}
        <li class="page-item">
          <a class="page-link" href="?page=1">&laquo; First</a>
        </li>
        <li class="page-item">
          <a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a>
        </li>
        {% endif %}
        
        <li class="page-item active">
          <span class="page-link">Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>
        </li>
        
        {% if page_obj.has_next %}
        <li class="page-item">
          <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
        </li>
        <li class="page-item">
          <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">Last &raquo;</a>
        </li>
        {% endif %}
      </ul>
    </nav>
    {% endif %}
  </div>
{% endblock content %}